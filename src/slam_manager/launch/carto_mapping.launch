<launch>
  <!-- Arguments -->
  <arg name="simulation" default="false"/>
  <arg name="configuration_basename" default="cartographer.lua"/>

  <!-- If /use_sim_time = false: mrpt and move_base cannot launch same time with other node in simulation -->
  <param if="$(arg simulation)" name="/use_sim_time" value="true"/>
  <param unless="$(arg simulation)" name="/use_sim_time" value="false"/>

  <!-- cartographer_node -->
  <group if="$(arg simulation)">
    <node name="cartographer_node" pkg="cartographer_ros" type="cartographer_node"
      args="-configuration_directory $(find slam_manager)/cfg/configuration_files
            -configuration_basename jackal.lua" output="log">
    </node>
  </group>

  <group unless="$(arg simulation)">
    <node pkg="cartographer_ros" type="cartographer_node" name="cartographer_node"
      args="-configuration_directory $(find slam_manager)/cfg
            -configuration_basename $(arg configuration_basename)"
      output="screen">
    </node>
  </group>

  <!-- cartographer_occupancy_grid_node -->
  <node pkg="cartographer_ros" type="cartographer_occupancy_grid_node"
        name="cartographer_occupancy_grid_node"
        args="-resolution 0.05"/>

</launch>